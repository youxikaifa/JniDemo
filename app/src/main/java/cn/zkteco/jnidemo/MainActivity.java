package cn.zkteco.jnidemo;

import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.widget.TextView;

import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {

    TextView tv;


    byte[] key = {0x6f, 0x35, 0x4a, 0x6c, 0x58, (byte) 0xed, (byte) 0xbd, (byte) 0xd8, 0x19, 0x5f, (byte) 0xd5, (byte) 0xb8, (byte) 0x90, (byte) 0xaf, (byte) 0xbf, 0x38};
    byte[] key1 = {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f};

    byte[] src = {0x38, (byte) 0xa2, (byte) 0xbf, 0x4f, 0x4b, 0x65, 0x2f, 0x68, 0x04, 0x53, (byte) 0xbe, 0x14, 0x36, (byte) 0x9c, 0x67, 0x68,
            0x19, 0x5d, 0x67, 0x2b, 0x25, 0x73, (byte) 0xbc, 0x02, 0x3d, 0x76, (byte) 0xaf, (byte) 0xa1, 0x6b, (byte) 0xab, (byte) 0x8b, 0x5d,
            (byte) 0xda, (byte) 0xfa, 0x7a, 0x62, 0x53, (byte) 0x9d, 0x64, 0x1b, 0x75, 0x24, (byte) 0xc6, 0x1f, 0x25, (byte) 0x85, 0x56, (byte) 0xee,
            (byte) 0xec, 0x76, 0x6c, 0x73, (byte) 0x89, (byte) 0xfe, (byte) 0xab, 0x4a, (byte) 0x99, (byte) 0x90, 0x4b, 0x7e, 0x64, 0x58, 0x3a, 0x5c};

    byte[] src1 = {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f,
            0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f,
            0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f,
            0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f};

    byte[] password = new byte[]{(byte) 0xcf, 0x00, (byte) 0x9a, (byte) 0xb3, 0x70, (byte) 0x8f, 0x60, 0x5c, 0x34, 0x37, (byte) 0xfa, 0x4e, 0x0e, 0x78, (byte) 0xd2, (byte) 0xa9,
            0x4d, 0x74, (byte) 0xec, (byte) 0xda, (byte) 0x9b, (byte) 0xcb, (byte) 0xe6, 0x48, (byte) 0xac, (byte) 0xc0, (byte) 0xd5, 0x14, (byte) 0xde, 0x52, 0x54, 0x0b,
            (byte) 0xf5, (byte) 0xbc, 0x51, 0x6b, (byte) 0x86, 0x03, 0x09, (byte) 0xb3, 0x20, (byte) 0x89, 0x75, (byte) 0xc7, (byte) 0x99, (byte) 0xf7, (byte) 0xbd, (byte) 0x8a,
            (byte) 0xd6, 0x3b, 0x52, (byte) 0x9e, 0x43, 0x0b, (byte) 0xdb, (byte) 0xc4, (byte) 0x8f, 0x1a, 0x36, (byte) 0xc0, 0x1a, 0x46, (byte) 0xd9, (byte) 0x87};

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        tv = (TextView) findViewById(R.id.tv);

//        initData();

        byte[] p = AES128.aes128_ecb_encrypt(src, src.length, key);

        byte[] q = AES128.aes128_ecb_decrypt(password, password.length, key);

        int intValue = AES128.callAaddB(3,8);

        boolean boolValue = AES128.getBooleanValue(true);

        char c = AES128.getChar('c');

        Person person = AES128.getPersonInfo(new Person("Jie",123));

        ArrayList<Person> ps = AES128.getListPerson();
        tv.setText(person.name);
    }

    private void initData() {
        for (int i = 0; i < src.length; i++) {
            if (src[i] < 0) {
                src[i] = (byte) (src[i] + 256);
            }
        }
        for (int i = 0; i < key.length; i++) {
            if (key[i] < 0) {
                key[i] = (byte) (key[i] + 256);
            }
        }
    }
}
